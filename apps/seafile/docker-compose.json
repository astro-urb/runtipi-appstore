{
  "services": [
    {
      "name": "seafile",
      "image": "seafileltd/seafile-mc:latest",
      "isMain": true,
      "internalPort": "80",
      "environment": {
        "DB_HOST": "seafile-db",
        "DB_ROOT_PASSWD": "seafile_root_pw_2024",
        "DB_USER": "seafile",
        "DB_PASSWD": "seafile_db_pw_2024",
        "DB_NAME": "seafile_db",
        "SEAFILE_SERVER_HOSTNAME": "${APP_DOMAIN}",
        "SEAFILE_ADMIN_EMAIL": "${SEAFILE_ADMIN_EMAIL}",
        "SEAFILE_ADMIN_PASSWORD": "${SEAFILE_ADMIN_PASSWORD}",
        "SEAFILE_SERVER_LETSENCRYPT": "false",
        "TIME_ZONE": "${TZ}"
      },
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/data",
          "containerPath": "/shared"
        }
      ],
      "dependsOn": ["seafile-db"]
    },
    {
      "name": "seafile-db",
      "image": "mariadb:10.11",
      "environment": {
        "MYSQL_ROOT_PASSWORD": "seafile_root_pw_2024",
        "MYSQL_DATABASE": "seafile_db",
        "MYSQL_USER": "seafile",
        "MYSQL_PASSWORD": "seafile_db_pw_2024"
      },
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/db",
          "containerPath": "/var/lib/mysql"
        }
      ]
    }
  ]
}
